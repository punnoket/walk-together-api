<!DOCTYPE html>
<html>
<html>
<head>
    <title>LOG</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></link>
</head>
<header>

    </nav>

</header>
<span id="content">

</span>
<footer id="contact">

</footer>

<div ng-app="myApp" ng-controller="myCtrl" ng-init="myFunc()">


    <table border="2px" cellpadding="20px">
        <tr>
            <td>URL</td><td>METHOD</td><td>DATA</td><td>DATE</td>
        </tr>
            <tr ng-repeat="i in logList">
                <td>[[i.url]]</td>
                <td>[[i.method]]</td>
                <td>[[i.data]]</td>
                <td>[[i.dateCreate]]</td>
            </tr>
    </table>
</div>
</body>
<script>

    var app = angular.module('myApp', []);

    app.config(function($httpProvider) {
        $httpProvider.defaults.xsrfCookieName = 'csrftoken';
        $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
    });
    app.config(function($interpolateProvider) {
        $interpolateProvider.startSymbol('[[');
        $interpolateProvider.endSymbol(']]');
    });
    app.controller('myCtrl', function($scope, $http ,$location, $window) {
        $scope.myFunc = function() {

            $http.get("http://localhost:8181/api/v1/log")
                .then(function(response) {

                    console.log(response.data);
                    $scope.logList = response.data;


                }, function(response) {

                });
        }


    });
</script>
</html>
